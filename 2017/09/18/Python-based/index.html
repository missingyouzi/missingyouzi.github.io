<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python_based | My_Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Python可分为CPython, JPython, IPython, 以下均在python3.6完成
python数据类型：int：其他类型强制转换为int型：int(var)
float：float(var)
bool：默认值为false，0为false，不支持xor运算
None：python只有一个none对象，所有对none的引用都是对同一对象的引用
容器类型(可迭代)：列表，元组，字符">
<meta property="og:type" content="article">
<meta property="og:title" content="Python_based">
<meta property="og:url" content="missingyouzi.github.io/2017/09/18/Python-based/index.html">
<meta property="og:site_name" content="My_Blog">
<meta property="og:description" content="Python可分为CPython, JPython, IPython, 以下均在python3.6完成
python数据类型：int：其他类型强制转换为int型：int(var)
float：float(var)
bool：默认值为false，0为false，不支持xor运算
None：python只有一个none对象，所有对none的引用都是对同一对象的引用
容器类型(可迭代)：列表，元组，字符">
<meta property="og:updated_time" content="2017-09-18T09:00:59.559Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python_based">
<meta name="twitter:description" content="Python可分为CPython, JPython, IPython, 以下均在python3.6完成
python数据类型：int：其他类型强制转换为int型：int(var)
float：float(var)
bool：默认值为false，0为false，不支持xor运算
None：python只有一个none对象，所有对none的引用都是对同一对象的引用
容器类型(可迭代)：列表，元组，字符">
  
    <link rel="alternate" href="/atom.xml" title="My_Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <!--<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">-->
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">My_Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ZQ&#39;s_Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="missingyouzi.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Python-based" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/18/Python-based/" class="article-date">
  <time datetime="2017-09-18T08:59:44.000Z" itemprop="datePublished">2017-09-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python_based
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Python可分为CPython-JPython-IPython-以下均在python3-6完成"><a href="#Python可分为CPython-JPython-IPython-以下均在python3-6完成" class="headerlink" title="Python可分为CPython, JPython, IPython, 以下均在python3.6完成"></a>Python可分为CPython, JPython, IPython, 以下均在python3.6完成</h2><hr>
<h3 id="python数据类型："><a href="#python数据类型：" class="headerlink" title="python数据类型："></a>python数据类型：</h3><p>int：其他类型强制转换为int型：int(var)</p>
<p>float：float(var)</p>
<p>bool：<strong>默认值为false</strong>，0为false，<strong>不支持xor运算</strong></p>
<p>None：python只有一个none对象，所有对none的引用都是对同一对象的引用</p>
<p>容器类型(可迭代)：列表，元组，字符串(<strong>注意编码</strong>，尤其在python2中)，字符串可以包含在‘’， “”， ““”“””中</p>
<p>切片：something[a:b:c]：从something的第a个下标开始，一直到第b个下标进行切片，每次取c个值</p>
<p>##字符串操作：</p>
<p>str()</p>
<p>+：连接字符串，低效，通常用join()代替</p>
<p><em>：操作符重载，输出一个字符串的n倍，如”new” </em> 2 输出newnew</p>
<p>upper, lower, capitalize：改变大小写</p>
<p>center, ljust, rjust：改变对齐方式</p>
<p>startswith, endswith：</p>
<p>find, index, rfind：寻找字符串下标，查找失败find返回-1，index抛出ValueError异常，rfind从右边找</p>
<p>isalpha，isdigit，isalnum：检查是否为字母，整数等</p>
<p>split，splitlines，partition：根据split的参数分割字符串</p>
<p>strip，rstrip，lstrip：根据strip的参数移除字符串左右的字符或字符串</p>
<p>replace：替换，通常用空白字符替换可以高效删除</p>
<p>format：”{}”.format(2), 常与print()结合</p>
<h2 id="列表-list-操作方法"><a href="#列表-list-操作方法" class="headerlink" title="列表(list)操作方法"></a>列表(list)操作方法</h2><p>list(something): 转换为列表形式</p>
<p>+:连接两个列表</p>
<p>*复制多个第一列表, 所有列表都会指向第一个列表, 修改一个对象会出现一些错误</p>
<pre><code>a = [1]
b = [2]        # a.append(b) = [1, [2]]     # a.extend(b) = [1, 2]
x = a.pop(1)     # x = 2
</code></pre><p>index: 返回下标, 如果不存在, 则抛出ValueError异常</p>
<pre><code>a = [3, 3, 1, 1]
x = a.count(3) # x = 2
a.insert(2, 100) # a = [3, 3, 100, 1, 1]
</code></pre><p>reove: 移除第一个元素</p>
<p>reverse: 反转列表中的元素</p>
<p>sort: 排序</p>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典:"></a>字典:</h2><p>键值对, 键不变, 字典无序, dict(), 如果键可以比较, sorted()会返回一个已排序的键列表, 如果不可排序, 抛出ValueError异常</p>
<p>keys, values, items: 返回类似列表的对象, 分别包含键, 值, 键值元组</p>
<p>get, pop: 接受一个键和一个可选的默认值作为参数, 如果键存在, 那么get方法从字典中返回对应的值, 如果键不在字典中, 那么返回这个默认值, pop方法同样工作</p>
<p>setdefault: 很像get, 但是如果不存在的话, 会用键和默认值构造一个新的键值对</p>
<p>fromkeys: 使用一个序列来提供键和一个给定的默认值(如果没有给定值,则默认为None)来初始化一个字典, 常用dict.fromkeys()</p>
<h2 id="集set"><a href="#集set" class="headerlink" title="集set()"></a>集set()</h2><p>in, issubset, issuperset, union, intersection, difference, symmetric_difference</p>
<h1 id="定义一个main入口-以确保文件被当作模块导入的时候不执行"><a href="#定义一个main入口-以确保文件被当作模块导入的时候不执行" class="headerlink" title="定义一个main入口, 以确保文件被当作模块导入的时候不执行"></a>定义一个main入口, 以确保文件被当作模块导入的时候不执行</h1><pre><code>if __name__ == &apos;__main__&apos;:
    main()
</code></pre><hr>
<h4 id="喜闻乐见的语法糖"><a href="#喜闻乐见的语法糖" class="headerlink" title="喜闻乐见的语法糖:"></a>喜闻乐见的语法糖:</h4><pre><code>`python
[n * n for n in range(1, 11) if not n * n % 2]     # [4, 16, 36, 64, 100]
for n in range(1, 11):
    if not n * n % 2:
        print(n * n)
</code></pre><h2 id="异常处理-try-except-else-finally"><a href="#异常处理-try-except-else-finally" class="headerlink" title="异常处理:try, except, else, finally"></a>异常处理:try, except, else, finally</h2><pre><code>try:
    blocks
except:
    blocks
</code></pre><h3 id="上下文管理"><a href="#上下文管理" class="headerlink" title="上下文管理:"></a>上下文管理:</h3><pre><code>with open(filename, mode) as f:
    f.write(something)
</code></pre><h2 id="定义并使用函数"><a href="#定义并使用函数" class="headerlink" title="定义并使用函数:"></a>定义并使用函数:</h2><pre><code>def functionname(parameter, ..):
    blocks
    return something
</code></pre><h3 id="生成器函数-yield-返回一个生成器"><a href="#生成器函数-yield-返回一个生成器" class="headerlink" title="生成器函数: yield, 返回一个生成器"></a>生成器函数: yield, 返回一个生成器</h3><h3 id="匿名函数-lambda函数-通常用于GUi或者网络编程"><a href="#匿名函数-lambda函数-通常用于GUi或者网络编程" class="headerlink" title="匿名函数:lambda函数:通常用于GUi或者网络编程"></a>匿名函数:lambda函数:通常用于GUi或者网络编程</h3><pre><code>line = lambda m, c, x: m * x + c
line(2, 4, -3) # 5
</code></pre><h1 id="类的定义和对象的使用"><a href="#类的定义和对象的使用" class="headerlink" title="类的定义和对象的使用"></a>类的定义和对象的使用</h1><p>继承, 多态, 封装, 对象的方法, 属性, 构造函数(__new__()), 折构函数(__del__()), 函数重载, 初始化函数(__init__()), 私有属性(__name), 私有方法(__method())</p>
<pre><code>class GirlFriend:
    time = 8.28    
    def __init__(self, name, weight, height, age):
        self.name = name
        self.weight = weight
        self.height = height
        self.age = age    
    @staticmethod
    def see_movie():
        print(&quot;一起出去看电影， 好开心啊！\n&quot;)    
    def show_love(self):
        if GirlFriend.time == 8.28:
            print(&quot;Show love-&gt;&gt;&quot;)
            self.see_movie()        
if __name__ == &apos;__main__&apos;:
    gf = GirlFriend(None, &apos;90&apos;, 160, 18)
    gf.show_love() 
</code></pre><h1 id="使用API"><a href="#使用API" class="headerlink" title="使用API:"></a>使用API:</h1><p>os模块详情可见: <a href="http://www.cnblogs.com/allenblogs/archive/2010/09/14/1825975.html" title="OS模块中文帮助" target="_blank" rel="external">http://www.cnblogs.com/allenblogs/archive/2010/09/14/1825975.html</a></p>
<h2 id="访问操作系统-win-linux通用"><a href="#访问操作系统-win-linux通用" class="headerlink" title="访问操作系统(win, linux通用):"></a>访问操作系统(win, linux通用):</h2><pre><code>import os
os.getcwd() # 获取本文件所在目录
os.getlogin() # 获取当前登录用户名
os.getpid() # 获取当前进程ID
os.getppid() # 获取当前进程的父进程ID
import shutil
cols, linex = shutil.get_terminal_size() # 默认cols为80, lines为24
os.umask(0b111111111) &apos;&apos;&apos; 查看umask值, 在windows上也可行, 但是它期待传入一个新值, 如果我们只是为了查看umask的值, 就不能这么做, 我们需要传入一个新值读取旧值, 并设置为原始值, .?nix系统使用8位表示是否可以读, 写, 执行 &apos;&apos;&apos;
os.name() # 输出当前操作系统(posix, nt, mac, os2, ce, java)
import sys
sys.platform() # 输出当前操作系统(nt-&gt;win32, posix-&gt;linux)
import subprocess as sub
sub.Popen([&apos;ls&apos;, &apos;*.*&apos;], shell=True) &apos;&apos;&apos;注意shell=True, 这是必要的, 但是这会产生一个注入式攻击的潜在安全性问题, 如果命令是动态创建的, 比如根据文件中的或从用户输入的字符串, 那么永远不要使用它&apos;&apos;&apos;
lsout = sub.Popen([&apos;ls&apos;, &apos;*.*&apos;], shell=True, stdout=sub.PIPE).stdout
\# 访问命令的输出的输出, 
os.listdir(&apos;.&apos;) # 输出当前所有文件名和目录名, 且比sub.call([&apos;ls&apos;])更高效
os.stat(&apos;filename&apos;) # 输出filename的信息, 返回一个元组对象, 包含十个有用的项
import time
time.strftime(&quot;%Y-%m-%d&quot;, time.localtime(int(time.time()))) # 输出当前日期
cwd = os.getcwd()    # 获取当前文件所在目录
os.listdir(cwd) # cwd目录下所有文件以及文件夹
os.mkdir(&apos;subdir&apos;) # 在当前目录下创建一个subdir的文件夹
os.chdir(&apos;subdir&apos;) # 进入当前目录的subdir文件夹, 如果&apos;..&apos;则回到之前目录
</code></pre><h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><pre><code>import glob, os
os.listdir(&apos;.&apos;) # 输出所有的文件和文件夹
glob.glob(&apos;*&apos;) # 输出所有的文件和文件夹
glob.glob(&apos;*.*&apos;) # 输出所有有扩展的文件
glob.glob(&apos;*.txt&apos;) # 输出所有txt后缀的文件
glob.glob(&apos;file?.txt&apos;) # 输出形如file1.txt, file2.txt的文件
glob.glob(&apos;*.??&apos;) # 输出后缀为2个字符的文件
</code></pre><h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><pre><code>import os, glob, shutil as sh
sh.copy(&apos;file1&apos;, &apos;subdir/file2&apos;) # 将file1复制给subdir目录下的file2
sh.copytree(&apos;dir1&apos;, &apos;dir2&apos;) # 将dir1复制到dir2
sh.rmtree(&apos;dir&apos;) # 删除dir文件夹
sh.move(&apos;file&apos;, &apos;dir&apos;) # 将file 复制到dir目录中
root, dirs, files = os.walk() # 访问当前目录, 得到当前目录名, 当下目录名, 文件名
</code></pre><h2 id="访问操作系统-windows"><a href="#访问操作系统-windows" class="headerlink" title="访问操作系统(windows):"></a>访问操作系统(windows):</h2><pre><code>import os
import subprocess
sub.call([&apos;cmd&apos;, &apos;/c&apos;, &apos;dir&apos;, &apos;/b&apos;]) # 返回当前目录下所有文件名, 并在最后一行输出0
sub.call([&apos;cmd&apos;, &apos;/c&apos;, &apos;dir&apos;, &apos;/b&apos;], stdout=open(&apos;ls.txt&apos;, &apos;w&apos;)) # 以写的方式打开ls.txt, 如果不存在则创建ls.txt, 将stdout重定向到ls.txt, 并在最后输出0
</code></pre><h2 id="访问操作系统-linux"><a href="#访问操作系统-linux" class="headerlink" title="访问操作系统(linux):"></a>访问操作系统(linux):</h2><pre><code>import os
os.getuid()    # 获取当前登录用户id
import pwd
pwd.getpwuid(os.getuid()) # 将得到的用户信息解析出来
for id in pwd.getpwall():
    print(id[0])
import subprocess as sub
sub.call([&apos;ls&apos;]) # 返回当前目录下所有文件名, 并在最后一行输出0 
</code></pre><h2 id="时间和日期"><a href="#时间和日期" class="headerlink" title="时间和日期:"></a>时间和日期:</h2><pre><code>import time as t
now = t.time() # 相对1970.01.01的时间
gmt = t.gmtime(now) # 日期, 时间
t.strftime(&apos;the date is: %Y-%m-%d&apos;, gmt) # 2017-9-9
t.strftime(&apos;the date is: %b %d %Y&apos;, gmt) # Sep 9 2017
t.strftime(&apos;%H:%M:%S&apos;, gmt) # 16:19:10
......
# 逆操作
dt = t.strptime(&quot;Saturday, March 8th, 2014&quot;, &quot;%A, %B, %d, %Y&quot;)
</code></pre><h2 id="使用pywin32和ctypes库访问原生API"><a href="#使用pywin32和ctypes库访问原生API" class="headerlink" title="使用pywin32和ctypes库访问原生API"></a>使用pywin32和ctypes库访问原生API</h2><pre><code>import ctypes as ct # 导入ctypes模块
libc = ct.cdll.msvcrt # windows only, 方便调用WindowsAPI
libc.printf(b&quot;hello %s, %d&quot;, b&quot;world&quot;, 6) # 输出hello word, 6,注意以字节的形式
libc.sprintf() # 打印字符的数量
d = ct.c_int() # 初始化d的值为int类型
libc.sscanf(b&quot;%d&quot;, ct.byref(d)) # input something
libc = ct.CDLL(&apos;libc.so.6&apos;) # linux only
libc.printf(b&quot;hello %s, %d&quot;, b&quot;world&quot;, 6)
</code></pre><h2 id="使用tkinter开发GUI窗口"><a href="#使用tkinter开发GUI窗口" class="headerlink" title="使用tkinter开发GUI窗口"></a>使用tkinter开发GUI窗口</h2><p>import tkinter as tk # 导入tkinter模块, 并命名为tk<br>top = tk.Tk() # 创建一个顶层小控件<br>F = tk.Frame(top) # 创建一个Frame来容纳所有其他的小部件, 所有小部件创建方法的第一个参数都是父部件, 本例中父部件是top<br>F.pack(fill=”both”) # </p>
<h1 id="Create-the-Frame-with-text-entry"><a href="#Create-the-Frame-with-text-entry" class="headerlink" title="Create the Frame with text entry"></a>Create the Frame with text entry</h1><p>fEntry = tk.Frame(F, border=1)<br>eHello = tk.Entry(fEntry)<br>eHello.pack(side=”left”)<br>lHistory = tk.Label(fEntry, text=” “, foreground=”steelblue”)<br>lHistory.pack(side=”bottom”, fill=”x”)<br>fEntry.pack(side=”top”)<br>def evClear():<br>    lHistory[‘text’] = eHello.get()<br>    eHello.delete(0, tk.END)<br>fButtons = tk.Frame(F, relief=”sunken”, border=1)<br>bClear = tk.Button(fButtons, text=”Clear Text”, command=evClear)<br>bClear.pack(side=”left”, padx=5, pady=2)<br>bQuit = tk.Button(fButtons, text=”Quit”, command=F.quit)<br>bQuit.pack(side=”left”, padx=5, pady=2)<br>fButtons.pack(side=”top”, fill=”x”)<br>F.mainloop()</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="missingyouzi.github.io/2017/09/18/Python-based/" data-id="cj7py0dlp0002xgd0k9rhedt5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/18/JavaBased/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JavaBased
        
      </div>
    </a>
  
  
    <a href="/2017/08/11/Spider-python/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Second Day</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/18/JavaBased/">JavaBased</a>
          </li>
        
          <li>
            <a href="/2017/09/18/Python-based/">Python_based</a>
          </li>
        
          <li>
            <a href="/2017/08/11/Spider-python/">Second Day</a>
          </li>
        
          <li>
            <a href="/2017/08/11/C/">C</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 ZQ<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>